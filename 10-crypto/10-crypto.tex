
%   COMP3310 crypto tutorial
%   Written by Hugh Fisher, ANU, 2024
%   Creative Commons CC-BY-4.0 license

%   LaTeX markup for XeTeX with a standard texlive distribution
%   Command to build:
%       xelatex 10-crypto.tex

\input{../common/formatting}

\begin{document}

\TITLE{Signatures and Encryption}


\MINOR{Outline}

In this tutorial you will

\DOT Check the cryptographic signatures of files

\DOT Find how many certificates your computer has


\SECTION{Cryptographic Signatures}

\STEP The first program to look at is \NAME{hashSig.py} or \NAME{HashSig.java}
which calculates a \emph{signature} or \emph{digest} for a single file. We
will start by running it on the source of the program itself. Run the Python
version \texttt{python hashSig.py hashSig.py} or compile the Java version and
then run \texttt{java HashSig HashSig.java}. The program will print out a
string of hex digits representing a 128 bit number.

Open the source code in your favourite text editor. Change one digit in the
\SQ{2024} date given in the header comment (and save). Run the program again:
how many digits change in the printed signature?

Within the program code find the \texttt{hash} code. This is typical of how a
checksum or signature is calculated: first the calculation algorithm is chosen and
initialised, then the \SQ{data} is fed through the calculation byte by byte.
The final result is always a fixed sized number, no matter how few or how
many bytes of data are given.

If the command line argument is \texttt{-list} rather than a file name, the
program prints out all the different cryptographic signature algorithms
available on your computer. Do this.

Run the program on the source code again, but this time with a second command
line argument for example \texttt{SHA1}. How many bits are there in this signature?

\STEP Signatures can be used to verify that a copy of a file (usually a download)
has not been tampered with. For this tutorial we will look at the site

\texttt{https://openssl.org/source/}

The file we are interested in is \texttt{openssl-3.30.tar.gz} but \textbf{don't}
download it straight away. Ask your tutor for a copy of the file, or for where
a copy of the file is stored on the CECC lab computers.

Next to the file name are signatures, at time of writing SHA256, PGP, and SHA1.
You \textbf{should} download the two SHA signatures, each of which is a very
short text file.

Once you have your own copy of \texttt{openssl-3.30.tar.gz}, run the hash
program on it with one of the SHA signature algorithms. Compare the printed
result to the downloaded signature file. Do they match?

If someone can break into the OpenSSL web site and upload their own copy of
the program, can you trust the signature?


\SECTION{Certificates}

Web server security (and other applications) depends on certificates and
Certfication Authorities. Program \NAME{showCerts.py},
no command line arguments, prints out the certificates on the host.
Do this, and be prepared to scroll back up to see them all: a typical computer
has fifty to over a hundred.

The command line option \texttt{-v} will print out more details about each
certificate instead of just a name. Do this.

\textbf{Don't Panic}. We are not going to study all these fields in detail,
and you don't have to remember what each one is for. The lesson to learn
is that setting up a world wide system for secure network communication is
complicated.

The code for this program is not very useful, it exists only so the same
tutorial instructions work on all the computers students are likely to have.
(And there is no Java version because the code is awful.)

If you decide you do want to learn more about how all this works, CECC
has a course for you: TODO SECURITY COURSE NAME.


\SECTION{Network security programming}

\begin{IMPORTANT}
This tutorial includes simple code that implements some cryptographic and
"security" procedures. Can you use this code for your own programs?

The answer is\ldots maybe? Writing secure network programs is important
and the code here shows you how to start. On the other hand, this code
was not written by a security expert so is not efficient nor guaranteed
to be complete.
On the third hand, the general state of Internet security is so awful
that copying the code here probably can't make things worse.
\end{IMPORTANT}

\COPYRIGHT

\end{document}
